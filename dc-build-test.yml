# Purpose: Testing build, addons
#
# Author: "rob dux" <robwdux@gmail.com>
#
# https://docs.docker.com/compose/
# https://docs.docker.com/compose/compose-file/
#
# docker-compose -f <filename> build

version: '2'
services:
  init-test:
    extends:
      file: docker-compose.yml
      service: init
    environment:
      ADD_CONSUL_TEMPLATE: 'true'
#services:
#  init:
#    build:
#      context: .
#      dockerfile: ../../
#      args:
#        GIT_COMMIT: ${GIT_COMMIT}
#        GIT_COMMIT_DATE: ${GIT_COMMIT_DATE}
#        GIT_COMMIT_AUTHOR: ${GIT_COMMIT_AUTHOR}
#        GIT_REPO_URL: ${GIT_REPO_URL}
#        ADD_CONSUL_TEMPLATE: 'true'
#    # tag to match source version of s6-overlay
#    image: robwdux/alpine-init:1.18.1.3
#    container_name: init
